(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{181:function(e,t,a){e.exports=a(357)},186:function(e,t,a){},187:function(e,t,a){},357:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),o=a(7),r=a.n(o),i=(a(186),a(29)),c=a(30),s=a(32),u=a(31),d=a(33),m=(a(187),a(25)),f=a(178),h=a(365),p=a(28),v=a(361),y=a(101),g=(a(69),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleSelectRadio=function(e){var t=a.props.onDataLoad,n=e.target.value;t({type:"discount",value:n}),a.setState({value:n})},a.handleInputValue=function(e){a.inputValue=e.target.value,(0,a.props.onDataLoad)({type:"name",value:a.inputValue})},a.inputValue="",a.state={value:0,title:"Step 1",subTitle:"Choose offer"},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.radioData,t=void 0===e?[]:e,a=this.state,n=a.title,o=a.subTitle;return l.a.createElement("div",{className:"offer-contain"},l.a.createElement("div",{className:"offer-wrap"},l.a.createElement("h2",null,n),l.a.createElement("p",{className:"offer-subTitle"},o)),l.a.createElement("div",null,l.a.createElement("div",{className:"offer-input-wrap"},l.a.createElement("p",{style:{marginRight:"10px",fontWeight:"bold"}},"Name"),l.a.createElement(v.a,{placeholder:"Please enter a name",onChange:this.handleInputValue})),l.a.createElement("div",{className:"offer-select-wrap"},l.a.createElement("p",{style:{marginRight:"10px",fontWeight:"bold"}},"Offer type"),l.a.createElement(y.a.Group,{onChange:this.handleSelectRadio,value:this.state.value},t.map(function(e){var t=e.value,a=e.title;return l.a.createElement(y.a,{key:a,value:t},a)}))),l.a.createElement("h4",{style:{marginTop:"30px",fontWeight:"bold"}},"Description"),l.a.createElement("p",{style:{marginTop:"15px",width:"600px"}},"Lorem ipsum dolor sit amet,Lorem ipsum dolor sit amet")))}}]),t}(n.Component)),b=a(360),E=a(364),S=a(9),k=a(359),C=a(362),w=a(363),O=a(65),j=a(94),D=a.n(j),x=(b.a||{}).RangePicker,T=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleClickDelate=function(e){var t=(e||{}).key,n=a.state.dataSource,l=(void 0===n?[]:n).filter(function(e){return e.key!==t});a.setState({dataSource:l})},a.onPanelChange=function(e,t){var n=a.props.onDataLoad,l=(e||{}).key,o=a.state.dataSource,r=void 0===o?[]:o,i=t.map(function(e){var t=new Date(e),a=t.getMonth()+1,n=t.getFullYear(),l=t.getDate(),o=a>=10?a:"0".concat(a),r=l>=10?l:"0".concat(l);return"".concat(n,"-").concat(o,"-").concat(r," 00:00:00")}),c=r.map(function(e){return e.key===l?Object(m.a)({},e,{time:i}):e});n({type:"products",value:c}),a.setState({dataSource:c})},a.handleMoveSatusTime=function(e,t){var n=t,l=(e||{}).key,o=a.state.dataSource,r=(void 0===o?[]:o).map(function(e){var a=(e||{}).key;return n?a===l?Object(m.a)({},e,{calendar:t}):Object(m.a)({},e,{calendar:!t}):Object(m.a)({},e,{calendar:!1})});a.setState({dataSource:r})},a.handleShowModal=function(){var e=a.state.products,t=(void 0===e?[]:e).map(function(e,t){var n=a.checkboxList[t]&&a.checkboxList[t].checked;return Object(m.a)({},e,{isChecked:n||!1})}),n=t.filter(function(e){return e.isChecked}).map(function(e,t){var a=(e||{}).node||{},n=a.title,l=a.id;return{picture:a.picture||"//cdn.shopify.com/s/files/1/0252/6075/2970/products/20180705190154_31078_512x512.jpg?v=1562312148",title:n,id:l,offer:0,slash:0,key:t}});a.handleChangeModalSatus({products:t,dataSource:n})},a.handleCancelModal=function(){a.handleChangeModalSatus()},a.handleChangeModalSatus=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.setState(Object(m.a)({isShowModal:!1},e))},a.handleSelectCehckbox=function(e,t,n){var l=n.target.checked;a.checkboxList[e]={index:e,checked:l,id:t}},a.handleClickAddProduct=function(){var e=a.state.products,t=void 0===e?[]:e;Array.isArray(t)&&t.length||D.a.get("/c/api/shopify/productSearch.php",{params:{title:"tianyangtest"}}).then(function(e){var t=(e||{}).data,n=(t=void 0===t?{}:t).data,l=((void 0===n?{}:n)||{}).list,o=((void 0===l?{}:l)||{}).products,r=(o=void 0===o?{}:o).edges,i=(void 0===r?[]:r).map(function(e){return Object(m.a)({},e,{isChecked:!1})});a.checkboxList.length=i.length,a.setState({products:i})}).catch(function(e){console.error(e)}),a.setState({isShowModal:!0})},a.checkboxList=[],a.state={title:"Step 2",subTitle:"Set trigger for $0 offer",summary:"Choose products or collections that trigger this offer",dataSource:[],products:[],isShowModal:!1},a.columns=[{title:"Product picture",key:"picture",render:function(e){var t=(e||{}).picture;return l.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},l.a.createElement("img",{src:t,style:{width:60,height:60,borderRadius:6,overflow:"hidden"}}))}},{title:"Product title",key:"pictitleture",render:function(e){var t=(e||{}).title;return l.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},l.a.createElement("p",null,t))}},{title:"Qty of offers",key:"offers",render:function(){return l.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},l.a.createElement(E.a,{min:0,onChange:function(e){(0,a.props.onDataLoad)({type:"products",value:a.state.dataSource.map(function(t){return Object(m.a)({},t,{offer:e})})})}}))}},{title:"Qty of slash required",key:"slash",render:function(){return l.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},l.a.createElement(E.a,{min:0,onChange:function(e){(0,a.props.onDataLoad)({type:"products",value:a.state.dataSource.map(function(t){return Object(m.a)({},t,{slash:e})})})}}))}},{title:"Expired time",key:"time",render:function(e,t){var n=t||{},o=n.calendar,r=n.time;return l.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:60,position:"relative"},onMouseEnter:a.handleMoveSatusTime.bind(null,t,!0),onMouseLeave:a.handleMoveSatusTime.bind(null,t,!1)},l.a.createElement(S.a,{type:"calendar",theme:"twoTone"}),r?r.map(function(e){return l.a.createElement("p",{style:{marginLeft:5},key:e},e)}):null,o?l.a.createElement("div",{style:{position:"absolute",zIndex:2,top:-20,left:-50,width:300,border:"1px solid #d9d9d9",borderRadius:4,backgroundColor:"#fff"}},l.a.createElement(x,{onChange:a.onPanelChange.bind(null,t)})):null)}},{title:"Delete",key:"Delete",render:function(e,t){return l.a.createElement("div",{style:{display:"flex",justifyContent:"center"},onClick:a.handleClickDelate.bind(null,t)},l.a.createElement(S.a,{type:"delete",theme:"twoTone"}))}}],a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.title,n=t.subTitle,o=t.summary,r=t.dataSource,i=void 0===r?[]:r,c=t.products,s=void 0===c?[]:c,u=t.isShowModal;return l.a.createElement("div",{className:"offer-contain"},l.a.createElement("div",{className:"offer-wrap"},l.a.createElement("h2",null,a),l.a.createElement("p",{className:"offer-subTitle"},n)),l.a.createElement("div",null,l.a.createElement("p",{style:{fontSize:18,marginBottom:20}},o),l.a.createElement("div",{style:{marginBottom:20}},l.a.createElement(p.a,{style:{marginRight:20},onClick:this.handleClickAddProduct},"Choose products"),l.a.createElement(p.a,null,"Choose collections")),l.a.createElement(k.a,{dataSource:i,columns:this.columns,bordered:!0,pagination:{total:i.length,pageSize:20}})),l.a.createElement(C.a,{title:"Choose products",visible:u,onOk:this.handleShowModal,onCancel:this.handleCancelModal},l.a.createElement(w.a,{bordered:!0,loading:!Boolean(Array.isArray(s)&&s.length),dataSource:s,renderItem:function(t,a){var n=(t||{}).node,o=(void 0===n?{}:n)||{},r=o.id,i=o.onlineStoreUrl,c=o.title;o.images;return l.a.createElement(w.a.Item,{key:r},l.a.createElement("a",{href:i,style:{display:"flex"}},l.a.createElement(O.a,{onChange:e.handleSelectCehckbox.bind(null,a,r)},c)))}})))}}]),t}(n.Component),N=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleOfferClick=function(e){(0,a.props.onDataLoad)({type:"offerAppear",value:e})},a.handleSlashClick=function(e){(0,a.props.onDataLoad)({type:"invitedSlash",value:e})},a.state={title:"Step 3",subTitle:"Availability",description:"To whom the offer appears and who can be invited to slash"},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.AvailabilityData,t=(void 0===e?{}:e)||{},a=t.offer,n=void 0===a?{}:a,o=t.slash,r=void 0===o?{}:o,i=n||{},c=i.title,s=i.list,u=r||{},d=u.title,m=u.list,f=this.state,h=f.title,v=f.subTitle,y=f.description;return l.a.createElement("div",{className:"offer-contain"},l.a.createElement("div",{className:"offer-wrap"},l.a.createElement("h2",null,h),l.a.createElement("p",{className:"offer-subTitle"},v),l.a.createElement("p",{style:{fontSize:14}},y)),l.a.createElement("div",null,l.a.createElement("p",{style:{marginBottom:20,fontWeight:"bold"}},c),l.a.createElement(O.a.Group,{options:s,onChange:this.handleOfferClick}),l.a.createElement(p.a,{style:{marginTop:20,width:300,display:"block"}},"Select tags"),l.a.createElement("div",{style:{marginTop:60}},l.a.createElement("p",{style:{marginBottom:20,fontWeight:"bold"}},d),l.a.createElement(O.a.Group,{options:m,onChange:this.handleSlashClick}),l.a.createElement(p.a,{style:{marginTop:20,width:300,display:"block"}},"Select tags"))))}}]),t}(n.Component),A=a(89),L=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleInputValue=function(e,t){var n=a.props.onDataLoad;a.buttonStyle=Object(m.a)({},a.buttonStyle,Object(A.a)({},e,t.target.value)),n({type:"button",value:a.buttonStyle})},a.inputValue="",a.buttonStyle={},a.state={value:0,title:"Step 4",subTitle:"Choose style",description:"What is the offer looks like on your product page"},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.title,a=e.subTitle,n=e.description;return l.a.createElement("div",{className:"offer-contain"},l.a.createElement("div",{className:"offer-wrap"},l.a.createElement("h2",null,t),l.a.createElement("p",{className:"offer-subTitle"},a),l.a.createElement("p",{style:{fontSize:14}},n)),l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement(p.a,{style:{marginBottom:20}},"Select style"),l.a.createElement("div",{className:"offer-input-wrap",style:{marginBottom:20}},l.a.createElement("p",{style:{marginRight:"10px",fontWeight:"bold"}},"Text"),l.a.createElement(v.a,{placeholder:"Please enter a text",onChange:this.handleInputValue.bind(null,"text")})),l.a.createElement("div",{className:"offer-input-wrap",style:{marginBottom:20}},l.a.createElement("p",{style:{marginRight:"10px",fontWeight:"bold"}},"Color"),l.a.createElement(v.a,{placeholder:"Please enter a color",onChange:this.handleInputValue.bind(null,"color")})),l.a.createElement("div",{className:"offer-input-wrap",style:{marginBottom:20}},l.a.createElement("p",{style:{marginRight:"10px",fontWeight:"bold",whiteSpace:"nowrap"}},"Share message"),l.a.createElement(v.a,{placeholder:"Please enter a message",onChange:this.handleInputValue.bind(null,"message")})))))}}]),t}(n.Component),M=h.a.Step,I=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).offerData={},a.handleOfferData=function(e){var t=e||{},n=t.type,l=t.value;a.offerData[n]=l,console.log(a.offerData)},a.handleSaveClick=function(){var e=a.offerData||{},t=e.products,n=void 0===t?[]:t,l=e.name,o=e.discount,r=e.button,i=e.invitedSlash,c=e.offerAppear,s=n&&n[0]||{},u=s.time,d=void 0===u?[]:u,h=s.id,p=s.slash,v=s.offer,y=d||[],g=Object(f.a)(y,2),b={product_id:h,offer_name:l,start_time:g[0],end_time:g[1],slash:p,offer:v,button:r,invitedSlash:i,offerAppear:c,cut_money:o,cut_type:"fixed"};D.a.get("/c/api/shopify/saveRule.php",{params:Object(m.a)({},b)}).then(function(e){console.log(e)}).catch(function(e){console.error(e)})},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.currentStep,a=e.stepData,n=void 0===a?[]:a,o=e.radioData,r=void 0===o?[]:o,i=e.AvailabilityData,c=void 0===i?{}:i;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{position:"sticky",top:0,zIndex:100,paddingTop:20,backgroundColor:"#f0f2f5"}},l.a.createElement(h.a,{current:t},n.map(function(e){var t=(e||{}).title;return l.a.createElement(M,{title:t,key:t})})),l.a.createElement("div",{className:"line"})),l.a.createElement(g,{radioData:r,onDataLoad:this.handleOfferData}),l.a.createElement("div",{className:"line"}),l.a.createElement(T,{onDataLoad:this.handleOfferData}),l.a.createElement("div",{className:"line"}),l.a.createElement(N,{AvailabilityData:c,onDataLoad:this.handleOfferData}),l.a.createElement("div",{className:"line"}),l.a.createElement(L,{onDataLoad:this.handleOfferData}),l.a.createElement("div",{className:"line"}),l.a.createElement("div",{style:{display:"flex",flexDirection:"row",width:150,justifyContent:"space-between"}},l.a.createElement(p.a,null,"Cancel"),l.a.createElement(p.a,{onClick:this.handleSaveClick},"Save")))}}]),t}(n.Component),R=a(358),W=[{title:"Choose offer",description:"Choose offer"},{title:"Set trigger for offer",description:"Set trigger for offer"},{title:"Availability",description:"To whom the offer appears and who can be invited to slash"},{title:"Choose style",description:"what is offer looks like on you product page"}],B=[{title:"$0 offer",value:"0"},{title:"Take a half",value:"50"},{title:"discount as you go",value:"100"}],P={offer:{title:"To whom the offer appears",list:[{label:"Only show to signed in customers",value:"Only show to signed in customers"},{label:"Exclude signed in customers with specific tags",value:"Exclude signed in customers with specific tags"}]},slash:{title:"Who can be invited to slash",list:[{label:"Only sign in customers can slash",value:"Only sign in customers can slash"},{label:"Allow a customer to slash once a day",value:"Allow a customer to slash once a day"},{label:"Exclude signed in customers with specific tags",value:"Exclude signed in customers with specific tags"}]}},V=R.a.Header,_=R.a.Footer,z=R.a.Content,F=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={currentStep:1,stepData:W},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state.currentStep;return l.a.createElement(R.a,{className:"layout"},l.a.createElement(V,null,l.a.createElement("div",{className:"logo"})),l.a.createElement(z,{style:{padding:"50px"}},l.a.createElement(I,{step:e,stepData:W,radioData:B,AvailabilityData:P})),l.a.createElement(_,{style:{textAlign:"center"}},"Ant Design \xa92018 Created by Ant UED"))}}]),t}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},69:function(e,t,a){}},[[181,1,2]]]);
//# sourceMappingURL=main.chunk.js.map